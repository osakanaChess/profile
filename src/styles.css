/* Base reset and variables */
:root {
  --bg: #ffffff;
  --text: #0f172a;
  --muted: #475569;
  --surface: #f1f5f9;
  --card: #ffffff;
  --border: #e2e8f0;
  --primary: #2563eb;
  --primary-contrast: #ffffff;
}

[data-theme="dark"] {
  --bg: #0b1220;
  --text: #e2e8f0;
  --muted: #94a3b8;
  --surface: #0f172a;
  --card: #0b1220;
  --border: #1f2a44;
  --primary: #60a5fa;
  --primary-contrast: #0b1220;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans JP, sans-serif;
  color: var(--text);
  background: var(--bg);
  line-height: 1.6;
}
img, svg { max-width: 100%; height: auto; display: block; }
a { color: inherit; text-decoration: none; }

/* Layout */
.container {
  width: min(1100px, 92vw);
  margin-inline: auto;
}
.grid-2 { display: grid; gap: 24px; grid-template-columns: repeat(auto-fit, minmax(280px,1fr)); }
.grid-3 { display: grid; gap: 24px; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); }

.site-header {
  position: sticky; top: 0; z-index: 50;
  background: color-mix(in srgb, var(--bg) 88%, transparent);
  backdrop-filter: saturate(1.2) blur(8px);
  border-bottom: 1px solid var(--border);
}
.site-header .container { display: flex; align-items: center; justify-content: space-between; padding: 12px 0; }
.logo { font-weight: 700; letter-spacing: 0.2px; }
.site-header nav { display: flex; gap: 16px; }
.site-header nav a { padding: 8px 10px; border-radius: 8px; color: var(--muted); }
.site-header nav a.active { color: var(--text); background: var(--surface); }
.icon-btn { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 8px 10px; cursor: pointer; }

.site-footer { border-top: 1px solid var(--border); margin-top: 40px; }
.site-footer .container { padding: 24px 0; color: var(--muted); }

/* Sections */
.hero {
  background: radial-gradient(1200px 700px at 10% -10%, rgba(37,99,235,.18), transparent 60%),
              radial-gradient(1200px 700px at 90% -10%, rgba(99,102,241,.18), transparent 60%);
}
.hero .container { padding: 92px 0 64px; }
.hero h1 { font-size: clamp(28px, 4vw, 44px); line-height: 1.2; margin: 0 0 12px; }
.lead { color: var(--muted); margin: 0 0 18px; }
.actions { display: flex; gap: 12px; }

.page-hero .container { padding: 42px 0 8px; }

.features { padding: 32px 0; }
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 18px;
  box-shadow: 0 2px 8px rgba(0,0,0,.04);
}
.card .thumb { width: 100%; height: 140px; border-radius: 12px; margin-bottom: 12px; }
.muted { color: var(--muted); }

.portfolio-grid article h3 { margin: 6px 0 6px; }

.tags { display: flex; gap: 8px; padding: 0; list-style: none; }
.tags li { background: var(--surface); border: 1px solid var(--border); padding: 4px 8px; border-radius: 999px; font-size: 12px; }

.skills { list-style: none; padding: 0; }
.skills li { display: flex; align-items: center; justify-content: space-between; border-bottom: 1px dashed var(--border); padding: 8px 0; }

.timeline { padding-left: 18px; }
.timeline li { margin: 6px 0; }

.links { list-style: none; padding: 0; }
.links li { margin: 8px 0; }

/* Buttons */
.btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 14px; border-radius: 10px; border: 1px solid var(--border); background: var(--surface); color: var(--text); }
.btn.primary { background: var(--primary); color: var(--primary-contrast); border-color: color-mix(in srgb, var(--primary) 60%, black); }
.btn.ghost { background: transparent; }
.btn:hover { filter: brightness(1.02); }

/* Animations */
.reveal { opacity: 0; transform: translateY(16px); transition: opacity .6s ease, transform .6s ease; }
.reveal-visible { opacity: 1; transform: none; }

/* Lab styles */
.tilt { transition: transform .2s ease, box-shadow .2s ease; }
.tilt:hover { transform: perspective(600px) rotateX(3deg) rotateY(-3deg) translateY(-2px); box-shadow: 0 10px 24px rgba(0,0,0,.12); }
.pulse { background: linear-gradient(135deg, rgba(99,102,241,.18), rgba(37,99,235,.18)); animation: pulseBg 6s ease-in-out infinite; }
@keyframes pulseBg { 0%,100%{ filter: saturate(1); } 50%{ filter: saturate(1.3); } }

#scroll-progress { position: fixed; inset: 0 auto auto 0; height: 3px; width: 100%; transform-origin: 0 50%; transform: scaleX(0); background: var(--primary); z-index: 60; }

/* Forms */
form label { display: grid; gap: 6px; margin: 10px 0; }
input, textarea { padding: 10px 12px; border: 1px solid var(--border); border-radius: 10px; background: var(--card); color: var(--text); font: inherit; }
input:focus, textarea:focus { outline: 2px solid color-mix(in srgb, var(--primary) 40%, transparent); outline-offset: 1px; }

/* Accessibility */
:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; border-radius: 6px; }

/* Spacing helpers */
main section { margin: 6px 0; }

